grumphp:
    additional_info: "\nTo get coverage reports \nopen 'build/coverage/index.html'\n"
    stop_on_failure: false
    process_timeout: 500
    git_hook_variables:
        EXEC_GRUMPHP_COMMAND: 'docker-compose exec -e COLUMNS=$COLUMNS -e LINES=$LINES -e TERM=$TERM -T app php '
    parallel:
        enabled: false
    fixer:
        enabled: true
        fix_by_default: true
    tasks:
        clover_coverage:
            clover_file: ./build/logs/clover.xml
            level: 70
            metadata:
                priority: 1
        git_blacklist:
            keywords:
                - "die("
                - "var_dump("
                - "exit;"
                - "echo "
                - "dump("
                - "dd("
            regexp_type: G
            whitelist_patterns:
                - /^public\/(.*)/
                - /^vendor\/(.*)/
            metadata:
                priority: 999
        phpcpd:
            directory: ['.']
            exclude: ['vendor', 'public', 'var', 'config', 'bin', 'translations', 'src/Migrations', tests/', 'src/DataFixtures', '*Test.php']
            fuzzy: false
            min_lines: 40
            min_tokens: 50
            metadata:
                priority: 997
        phpcsfixer:
            verbose: true
            diff: true
            config: php_cs.php
            metadata:
                priority: 992
        phplint:
            triggered_by: ['php']
            metadata:
                priority: 996
        jsonlint:
            detect_key_conflicts: true
        yamllint: ~
        xmllint:
            scheme_validation: true
            dtd_validation: true
        phpmd:
            exclude: ['config', 'var', 'src/Migrations']
            ruleset: ['cleancode', 'codesize', 'controversial', 'design', 'unusedcode']
            metadata:
                priority: 995
        phpstan:
            configuration: phpstan.neon
            level: max
            memory_limit: '-1'
            metadata:
                priority: 993
        phpunit:
            config_file: phpunit.xml.dist
            testsuite: Application
            always_execute: true
            metadata:
                priority: 991
    testsuites:
        phpunit:
            tasks:
                - phpunit
        phpcsmd:
            tasks:
                - phpcsfixer
                - phpmd
        no-phpunit:
            tasks:
                - git_blacklist
                - phpcpd
                - phpcsfixer
                - phplint
                - phpmd
                - phpstan
        linters:
            tasks:
                - phplint
                - xmllint
                - yamllint
        phpcsfixer:
            tasks:
                - phpcsfixer
        phpstan:
            tasks:
                - phpstan
        coverage:
            tasks:
                - clover_coverage
